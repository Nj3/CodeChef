def relcreate():
	"""it creates a dictionary to map the direct relationship between 1 person to other"""
	for i in ppl:
		for j in range(len(ip)):
			if i in ip[j] and i in rel:
				rel[i].extend(ip[j])
			elif i in ip[j] and i not in rel:
				rel[i] = list(ip[j])
			else:
				pass
	for i in rel:
		rel[i] = list(set(rel[i]))

def relcheck():
	"""it checks whether the invitation is reached out to all"""
	count = 0
	length = [len(rel[i]) for i in rel]
	length.sort(reverse = True)
	print(length)
	if n in length: #only possible if a person can reach to all other persons
		count+=1
		return count
	else:
		

t = int(input())
for itr in range(t):
	n,m=map(int,input().split())
	ppl = [i for i in range(1,n+1)]
	# print(ppl)
	ip = [[int(i) for i in input().split()] for lines in range(m)]
	# print(ip)
	rel = {}
	# print(rel)
	relcreate()
	print('the new rel is',rel)
	print(relcheck())

			

				
